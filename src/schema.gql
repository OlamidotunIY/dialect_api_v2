# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Activity {
  createdAt: DateTime!
  description: String!
  id: String!
  project: Project!
  stream: Stream!
  task: Task!
  type: ActivityType!
  updatedAt: DateTime!
  user: User!
  workspace: Workspace!
}

enum ActivityType {
  COMMENT_CREATED
  COMMENT_DELETED
  COMMENT_UPDATED
  PROJECT_CREATED
  PROJECT_DELETED
  PROJECT_UPDATED
  STREAM_CREATED
  STREAM_DELETED
  STREAM_UPDATED
  TASK_COMPLETED
  TASK_CREATED
  TASK_DELETED
  TASK_UPDATED
  TEAM_CREATED
  TEAM_DELETED
  TEAM_UPDATED
  USER_INVITED
  USER_JOINED
  USER_LEFT
  USER_REMOVED
  WORKSPACE_CREATED
  WORKSPACE_DELETED
  WORKSPACE_INVITED
  WORKSPACE_REMOVED
  WORKSPACE_UPDATED
}

type ChecklistItem {
  content: String!
  id: String!
  isDone: Boolean!
  task: Task!
  taskId: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Dependency {
  dependsOn: String!
  dependsOnTask: Task!
  id: String!
  task: Task!
  taskId: String!
}

input LoginDto {
  email: String!
  password: String!
}

type LoginResponse {
  user: User
}

type Mutation {
  addMemberToTeam(teamId: String!, userId: String!): Team!
  addMembers(data: addMemberDto!): Workspace!
  addMembersToStream(streamId: String!, userIds: [String!]!): Stream!
  createProject(data: createProjectDto!): Project!
  createRole(data: createRolesDto!, workspaceId: String!): Role!
  createStream(data: createStreamDto!): Stream!
  createTeam(data: createTeamDto!): Team!
  createWorkspace(logo: Upload, name: String!): Workspace!
  deleteStream(id: String!): Stream!
  deleteTeam(teamId: String!): Team!
  deleteWorkspace(id: String!): Workspace!
  inviteMembers(data: inviteMembersDto!): Workspace!
  login(loginInput: LoginDto!): LoginResponse!
  logout: Boolean!
  refreshToken: String!
  register(registerInput: RegisterDto!): RegisterResponse!
  removeMemberFromStream(streamId: String!): Stream!
  removeMemberFromTeam(teamId: String!, userId: String!): Team!
  removeMembers(userId: String!, workspaceId: String!): Workspace!
  setDefaultWorkspace(workspaceId: String!): User!
  updateProfile(file: Upload, fullname: String!): User!
  updateRole(data: createRolesDto!, id: String!): Role!
  updateWorkspace(aiEnabled: Boolean, description: String, id: String!, inviteLinkActive: Boolean, logo: Upload, name: String, teamSize: Float): Workspace!
}

type Permission {
  Role: Role
  id: String!
  name: String!
  resourceType: ResourceType!
  roleId: String
  value: Boolean!
}

type Project {
  createdAt: DateTime!
  description: String
  dueDate: DateTime
  id: String!
  logo: String!
  name: String!
  priority: String!
  progress: Float
  startDate: DateTime
  status: String!
  stream: Stream!
  streamId: String!
  tasks: [Task!]!
  team: Team!
  updatedAt: DateTime!
}

type Query {
  activities(userId: String!): [Activity!]!
  getProjectActivities(projectId: String!): Activity!
  getStream(streamId: String!): Stream!
  getStreamActivities(streamId: String!): Activity!
  getStreamMembers(streamId: String!): [Stream!]!
  getStreams(workspaceId: String!): [Stream!]!
  getTaskActivities(taskId: String!): Activity!
  getTeam(teamId: String!): Team!
  getTeams(streamId: String!): [Team!]!
  getWorkspaceActivities(workspaceId: String!): Activity!
  hello: String!
  me: User!
  projects(streamName: String!, workspaceId: String!): [Project!]!
  role(id: String!): Role!
  roles(workspaceId: String!): [Role!]!
}

input RegisterDto {
  confirmPassword: String!
  email: String!
  fullname: String!
  inviteToken: String
  password: String!
}

type RegisterResponse {
  user: User
}

enum ResourceType {
  CHANNEL
  PROJECT
  STREAM
  TASK
  TEAM
  WORKSPACE
}

type Role {
  Permissions: [Permission!]!
  description: String!
  id: String!
  logo: String!
  name: String!
  workspace: Workspace!
  workspaceId: String!
  workspaceMembers: [WorkspaceMember!]!
}

type Stream {
  Team: Team!
  description: String
  id: String!
  name: String!
  projects: [Project!]!
  streamMembers: [StreamMembers!]!
  teamId: String!
  updateAt: DateTime
  workspace: Workspace!
  workspaceId: String!
}

type StreamMembers {
  id: String!
  role: String!
  stream: Stream!
  streamId: String!
  user: User!
  userId: String!
}

type Task {
  assignedUsers: [TaskAssignment!]!
  checklistItems: [ChecklistItem!]!
  createdAt: DateTime!
  dependencies: [Dependency!]!
  dependents: [Dependency!]!
  description: String
  dueDate: DateTime
  id: String!
  name: String!
  parent: Task
  priority: String!
  project: Project!
  projectId: String!
  status: String!
  subtasks: [Task!]!
  updatedAt: DateTime!
}

type TaskAssignment {
  id: String!
  task: Task!
  taskId: String!
  user: User!
  userId: String!
}

type Team {
  id: String!
  name: String!
  stream: Stream!
  streamId: String!
  streamMembers: [StreamMembers!]!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  createdAt: DateTime
  defaultWorkspaceId: String
  email: String!
  enabledAI: Boolean!
  fullname: String!
  id: String!
  ownedWorkspaces: [Workspace!]
  password: String
  picture: String
  preferredLanguage: String!
  twoFactorEnabled: Boolean!
  twoFactorSecret: String
  twoFactorSecretAnswer: String
  updatedAt: DateTime
  voice_id: String
  workspaces: [WorkspaceMember!]
}

type Workspace {
  aiEnabled: Boolean!
  createdAt: DateTime!
  defaultRoleId: String!
  defaultStreamId: Float
  description: String
  id: String!
  inviteLink: String
  inviteLinkActive: Boolean!
  logo: String
  members: [WorkspaceMember!]!
  name: String!
  owner: User!
  ownerId: String!
  roles: [Role!]!
  streams: [Stream!]!
  stripeCustomerId: String
  stripeSubscriptionId: String
  subscriptionExpiryDate: DateTime
  subscriptionPlan: String!
  subscriptiontrialEnd: DateTime
  teamSize: Float
  updatedAt: DateTime!
}

type WorkspaceMember {
  id: String!
  role: Role!
  roleId: String!
  status: WorkspaceMemberStatus!
  user: User!
  userId: String!
  workspace: Workspace!
  workspaceId: String!
}

enum WorkspaceMemberStatus {
  ACTIVE
  INACTIVE
  PENDING
}

input addMemberDto {
  WorkspaceMemberId: String!
  workspaceId: String!
}

input createProjectDto {
  description: String!
  name: String!
  streamName: String!
  workspaceId: String!
}

input createRolesDto {
  name: String!
}

input createStreamDto {
  description: String
  name: String!
  workspaceId: String!
}

input createTeamDto {
  memberIds: [String!]
  name: String!
  streamId: String!
}

input inviteMembersDto {
  userEmails: [String!]!
  workspaceId: String!
}